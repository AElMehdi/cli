== Prerequisites

1. a running 1.7 Kubernetes cluster (instructions assume minikube for now)
2. Kafka installed on the cluster using https://github.com/Yolean/kubernetes-kafka

== Build

```
eval $(minikube docker-env)
./mvnw clean package
./mvnw docker:build -pl ./topic-controller
./mvnw docker:build -pl ./topic-gateway
./mvnw docker:build -pl ./function-dispatcher
```

== Deploy

```
kubectl apply -f config/
```

== Create a Topic

```
kubectl create -f samples/words-topic.yaml
```

== Create a Function

```
kubectl create -f samples/echo-function.yaml
```

== Publish a Message to the Topic

```
curl -H "Content-Type: text/plain" 192.168.99.100:30111/messages/words -d hello
```

== Watch Results on Minikube

```
minikube ssh
tail -f /messages/words.log
```
